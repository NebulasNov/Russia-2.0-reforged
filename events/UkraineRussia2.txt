###########################
# Ukrainian Events
###########################

add_namespace = ukrains

# Check if File is Loaded
country_event = {
	id = ukrains.2092066524

	hidden = yes

	is_triggered_only = yes

	immediate = {
		set_global_flag = russia_reworked_events_loaded_ukrains
	}
}

#White Guard Ask Us to Join Them in Their Fight - No Country Flag
country_event = {
	id = ukrains.1
	title = ukrains.1.t
	desc = ukrains.1.d
	picture = GFX_report_event_british_inspect_troops

	is_triggered_only = yes

	option = { #Accepts
		name = ukrains.1.a
		ai_chance = { factor = 20 }
		declare_war_on = {
			target = SOU
			type = second_russian_civil_war
		}
		add_ai_strategy = {
			type = conquer
			id = SOU
			value = 200
		}
		hidden_effect = {
			SOU = {
				country_event = { id = ukrains.38 days = 1 }
			}
		}
		SOV = {
			country_event = { id = ukrains.2 hours = 6 }
		}
	}

	option = { #Refuse
		name = ukrains.1.b
		ai_chance = { factor = 80 }
		SOV = {
			country_event = { id = ukrains.3 hours = 6 }
		}
	}
}

#Ukraine Has Accepted
country_event = {
	id = ukrains.2
	title = ukrains.2.t
	desc = ukrains.2.d
	picture = GFX_soldiers_handshaking_kolchak_russia2

	is_triggered_only = yes

	option = { #Good
		name = ukrains.2.a
		ai_chance = { factor = 100 }
	}
}

#Ukraine Has Refused
country_event = {
	id = ukrains.3
	title = ukrains.3.t
	desc = ukrains.3.d
	picture = GFX_report_event_ger_civil_war

	is_triggered_only = yes

	option = { #Damn
		name = ukrains.3.a
		ai_chance = { factor = 100 }
		UKR = {
			hidden_effect = {
				country_event = { id = ukrains.32 days = 5 }
			}
		}
	}
}

#White Guard Ask Us to Join Them in Their Fight - Country Flag
country_event = {
	id = ukrains.4
	title = ukrains.4.t
	desc = ukrains.4.d
	picture = GFX_report_event_british_inspect_troops

	is_triggered_only = yes

	option = { #Accepts
		name = ukrains.4.a
		ai_chance = { factor = 75 }
		declare_war_on = {
			target = SOU
			type = second_russian_civil_war
		}
		add_ai_strategy = {
			type = conquer
			id = SOU
			value = 200
		}
		hidden_effect = {
			SOU = {
				country_event = { id = ukrains.38 days = 1 }
			}
		}
		SOV = {
			country_event = { id = ukrains.5 hours = 6 }
		}
	}

	option = { #Refuse
		name = ukrains.4.b
		ai_chance = { factor = 25 }
		SOV = {
			country_event = { id = ukrains.6 hours = 6 }
		}
	}
}

#Ukraine Has Accepted
country_event = {
	id = ukrains.5
	title = ukrains.5.t
	desc = ukrains.5.d
	picture = GFX_soldiers_handshaking_kolchak_russia2

	is_triggered_only = yes

	option = { #Good
		name = ukrains.5.a
		ai_chance = { factor = 100 }
	}
}

#Ukraine Has Refused
country_event = {
	id = ukrains.6
	title = ukrains.6.t
	desc = ukrains.6.d
	picture = GFX_report_event_ger_civil_war

	is_triggered_only = yes

	option = { #Damn
		name = ukrains.6.a
		ai_chance = { factor = 100 }
		UKR = {
			hidden_effect = {
				country_event = { id = ukrains.32 days = 5 }
			}
		}
	}
}

#White Guard Asks Us to stay neutral
country_event = {
	id = ukrains.7
	title = ukrains.7.t
	desc = ukrains.7.d
	picture = GFX_report_event_british_inspect_troops

	is_triggered_only = yes

	option = { #Accept
		name = ukrains.7.a
		ai_chance = {
			factor = 50
			modifier = {
				add = 50
				SOV = {
					has_country_flag = sympathize_with_ukraine
				}
			}
		}
		SOV = {
			country_event = { id = ukrains.8 hours = 6 }
		}
	}

	option = { #Refuse
		name = ukrains.7.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				SOV = {
					has_country_flag = sympathize_with_ukraine
				}
			}
		}
		SOV = {
			country_event = { id = ukrains.9 hours = 6 }
		}
		set_country_flag = refused_neutrality
	}
}

#Ukraine Has Accepted
country_event = {
	id = ukrains.8
	title = ukrains.8.t
	desc = ukrains.8.d
	picture = GFX_soldiers_handshaking_kolchak_russia2

	is_triggered_only = yes

	option = { #Good
		name = ukrains.8.a
		ai_chance = { factor = 100 }
		UKR = {
			add_ideas = SOV_Neutrality_second
			add_opinion_modifier = {
				target = SOV
				modifier = neutral_second_war
			}
			add_opinion_modifier = {
				target = SOU
				modifier = neutral_second_war
			}
			hidden_effect = {
				country_event = { id = ukrains.32 days = 5 }
			}
		}
	}
}

#Ukraine Has Refused
country_event = {
	id = ukrains.9
	title = ukrains.9.t
	desc = ukrains.9.d
	picture = GFX_report_event_ger_civil_war

	is_triggered_only = yes

	option = { #Damn
		name = ukrains.9.a
		ai_chance = { factor = 100 }
		hidden_effect = {
			UKR = {
				country_event = { id = ukrains.37 days = 5 }
			}
		}
	}
}

#Ukraine Gets Event to Intervene in the Second Civil War
country_event = {
	id = ukrains.10
	title = ukrains.10.t
	desc = ukrains.10.d
	picture = GFX_battkle_kursk_russia2

	fire_only_once = yes

	trigger = {
		tag = UKR
		has_war = no
		is_subject = no
		has_global_flag = second_russian_civil_war_in_progress
		NOT = {
			has_government = anarchy
		}
		SOU = {
			has_war_with = SOV
			surrender_progress > 0.7
		}
	}

	mean_time_to_happen = { days = 1 }

	option = { #Attack SOU
		name = ukrains.10.a
		ai_chance = { factor = 25 }
		declare_war_on = {
			target = SOU
			type = annex_everything
		}
		hidden_effect = {
			SOU = {
				country_event = { id = ukrains.38 days = 1 }
			}
		}
		add_ideas = SOV_Second_civil_war
		if = {
			limit = {
				has_idea = SOV_Neutrality_second
			}
			custom_effect_tooltip = sov_might_take_action_sou
			hidden_effect = {
				SOV = {
					country_event = { id = ukrains.11 hours = 1 }
				}
			}
		}
	}

	option = { #Do nothing
		name = ukrains.10.b
		ai_chance = { factor = 75 }
		add_stability = 0.05
	}
}

#UKR Betrays Neutrality
country_event = {
	id = ukrains.11
	title = ukrains.11.t
	desc = ukrains.11.d
	picture = GFX_report_event_ger_civil_war

	is_triggered_only = yes

	option = { #Kill them
		name = ukrains.11.a
		ai_chance = { factor = 40 }
		declare_war_on = {
			target = UKR
			type = second_russian_civil_war
		}
	}

	option = { #Nvm
		name = ukrains.11.b
		ai_chance = { factor = 60 }
	}
}

#SOV DEM Send Ultimatum for Reintegration
country_event = {
	id = ukrains.12
	title = ukrains.12.t
	desc = ukrains.12.d
	picture = GFX_report_event_german_troops

	is_triggered_only = yes

	option = { #Accept
		name = ukrains.12.a
		ai_chance = { factor = 40 }
		SOV = {
			country_event = { id = soviets.451 days = 1 }
		}
	}

	option = { #Refuse
		name = ukrains.12.b
		ai_chance = { factor = 60 }
		SOV = {
			country_event = { id = soviets.452 days = 1 }
		}
		UKR = {
			add_ideas = SOV_Surviving_against_russian
			division_template = {
				name = "Elite Free Infantry"
				priority = 1
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 0 y = 3 }
					infantry = { x = 0 y = 4 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
					infantry = { x = 1 y = 3 }
				}
			}
			random_owned_controlled_state = {
				create_unit = {
					division = "name = \"11th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"12th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"13th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"14th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"15th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"16th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"17th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"18th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"19th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"20th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"21th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"22th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"23th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"24th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"25th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"26th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"27th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"28th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"29th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"30th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"31th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"32th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"33th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"34th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
				create_unit = {
					division = "name = \"35th Elite Free Infantry\" division_template = \"Elite Free Infantry\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = UKR
				}
			}
		}
	}
}

#SOV DEM Send Ultimatum for Puppet
country_event = {
	id = ukrains.13
	title = ukrains.13.t
	desc = ukrains.13.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { #Accept
		name = ukrains.13.a
		ai_chance = { factor = 60 }
		SOV = {
			country_event = { id = soviets.453 days = 1 }
		}
	}

	option = { #Refuse
		name = ukrains.13.b
		ai_chance = { factor = 40 }
		SOV = {
			country_event = { id = soviets.454 days = 1 }
		}
		UKR = {
			add_ideas = SOV_Surviving_against_russian
		}
	}
}

#Ukraine Future if they have Accepted Puppet
country_event = {
	id = ukrains.14
	title = ukrains.14.t
	desc = ukrains.14.d
	picture = GFX_report_event_german_inspect_troops

	trigger = {
		tag = UKR
		is_subject_of = SOV
		exists = yes
		SOV = {
			has_country_flag = ukr_accepted_puppet_united_russia
			has_government = democratic
			is_subject = no
			exists = yes
		}
	}

	fire_only_once = yes

	mean_time_to_happen = { days = 360 }

	option = { #Reintegrate With Russia
		name = ukrains.14.a
		ai_chance = { factor = 40 }
		SOV = {
			country_event = { id = soviets.455 days = 1 }
		}
	}

	option = { #Ask for Expansion
		name = ukrains.14.b
		ai_chance = { factor = 60 }
		SOV = {
			country_event = { id = soviets.456 days = 1 }
		}
	}
}

# State of the Army
country_event = {
	id = ukrains.15
	title = ukrains.15.t
	desc = ukrains.15.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { # Ok
		name = ukrains.15.a
		ai_chance = { factor = 100 }
		army_experience = 25
	}
}

# State of the Air Force
country_event = {
	id = ukrains.16
	title = ukrains.16.t
	desc = ukrains.16.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { # Ok
		name = ukrains.16.a
		ai_chance = { factor = 100 }
		air_experience = 25
	}
}

# State of the Navy
country_event = {
	id = ukrains.17
	title = ukrains.17.t
	desc = ukrains.17.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { # Ok
		name = ukrains.17.a
		ai_chance = { factor = 100 }
		navy_experience = 25
	}
}

# Military Pensions
country_event = {
	id = ukrains.18
	title = ukrains.18.t
	desc = ukrains.18.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { # Moderate Pensions
		name = ukrains.18.a
		ai_chance = { factor = 50 }
		add_ideas = UKR_Military_pension_1
	}

	option = { # Heavy Pensions
		name = ukrains.18.b
		ai_chance = { factor = 25 }
		add_ideas = UKR_Military_pension_2
	}

	option = { # No Pensions
		name = ukrains.18.c
		ai_chance = { factor = 25 }
		add_ideas = UKR_Military_pension_3
	}
}

# Industrial Revival
country_event = {
	id = ukrains.19
	title = ukrains.19.t
	desc = ukrains.19.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { # Big debts
		name = ukrains.19.a
		ai_chance = { factor = 100 }
		remove_ideas = UKR_Sole_proprietorships
		add_ideas = UKR_Industrial_revival
		custom_effect_tooltip = unlocks_industrial_revival_project_decisions
	}
}

# Seize Crimea
country_event = {
	id = ukrains.20
	title = ukrains.20.t
	desc = ukrains.20.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { #Seize it! We need to use their territory
		name = ukrains.20.a
		ai_chance = {
			factor = 40
			modifier = {
				add = -40
				surrender_progress > 0.4
			}
		}
		declare_war_on = {
			target = CRI
			type = second_russian_civil_war
		}
		if = {
			limit = {
				SOV = {
					exists = yes
					is_subject = no
					has_war = yes
					has_country_flag = control_caucasus
					NOT = {
						has_war_with = ROOT
					}
				}
			}
			custom_effect_tooltip = sov_might_take_action_crimea
			hidden_effect = {
				SOV = {
					country_event = ukrains.24
				}
			}
		}
	}

	option = { #Ask for their ships and military access
		name = ukrains.20.b
		ai_chance = {
			factor = 40
			modifier = {
				add = -40
				surrender_progress > 0.4
			}
		}
		CRI = {
			country_event = ukrains.21
		}
		if = {
			limit = {
				SOV = {
					exists = yes
					is_subject = no
					has_war = yes
					has_country_flag = control_caucasus
					NOT = {
						has_war_with = ROOT
					}
				}
			}
			custom_effect_tooltip = sov_might_take_action_crimea
		}
	}

	option = { #We don't want troubles
		name = ukrains.20.c
		ai_chance = {
			factor = 20
			modifier = {
				add = 80
				surrender_progress > 0.4
			}
		}
		add_political_power = 50
	}
}

# UKR Asks for Navy
country_event = {
	id = ukrains.21
	title = ukrains.21.t
	desc = ukrains.21.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { #Give in to their demands
		name = ukrains.20.a
		ai_chance = {
			factor = 75
		}
		UKR = {
			country_event = ukrains.22
		}
	}

	option = { #Refuse...
		name = ukrains.20.b
		ai_chance = {
			factor = 25
		}
		custom_effect_tooltip = cri_will_lead_to_war_with_ukr
		UKR = {
			country_event = ukrains.23
		}
	}
}

# Crimea Accepts
country_event = {
	id = ukrains.22
	title = ukrains.22.t
	desc = ukrains.22.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { #Wonderful
		name = ukrains.22.a
		ai_chance = {
			factor = 100
		}
		CRI = {
			transfer_navy = {
				target = ROOT
			}
			give_military_access = ROOT
		}
	}
}

# Crimea Refuses
country_event = {
	id = ukrains.23
	title = ukrains.23.t
	desc = ukrains.23.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { #Die
		name = ukrains.23.a
		ai_chance = {
			factor = 100
		}
		declare_war_on = {
			target = CRI
			type = second_russian_civil_war
		}
		hidden_effect = {
			SOV = {
				if = {
					limit = {
						exists = yes
						is_subject = no
						has_war = yes
						has_country_flag = control_caucasus
						NOT = {
							has_war_with = ROOT
						}
					}
					country_event = ukrains.24
				}
			}
		}
	}
}

# Ukraine Attacks Crimea
country_event = {
	id = ukrains.24
	title = ukrains.24.t
	desc = ukrains.24.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { #Ur ded son
		name = ukrains.24.a
		ai_chance = {
			factor = 15
			modifier = {
				add = 15
				is_neighbor_of = CRI
			}
		}
		UKR = {
			country_event = ukrains.25
		}
		custom_effect_tooltip = sov_will_declare_war_on_ukr_if_refuse
	}

	option = { #Not our business
		name = ukrains.24.a
		ai_chance = {
			factor = 85
			modifier = {
				add = -15
				is_neighbor_of = CRI
			}
		}
		add_political_power = 25
	}
}

# White Guard (SOV) Asks for Withdrawal from Crimea
country_event = {
	id = ukrains.25
	title = ukrains.25.t
	desc = ukrains.25.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { #Ok
		name = ukrains.25.a
		ai_chance = {
			factor = 75
		}
		white_peace = {
			tag = CRI
			message = WHITE_GUARD_INTERVENTION_CRIMEA
		}
		SOV = {
			country_event = ukrains.26
		}
	}

	option = { #No
		name = ukrains.25.b
		ai_chance = {
			factor = 25
		}
		custom_effect_tooltip = ukr_will_lead_to_war_with_sov
		SOV = {
			country_event = ukrains.27
		}
	}
}

# UKR Accepts
country_event = {
	id = ukrains.26
	title = ukrains.26.t
	desc = ukrains.26.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { #Good
		name = ukrains.22.a
		ai_chance = {
			factor = 100
		}
	}
}

# UKR Refuses
country_event = {
	id = ukrains.27
	title = ukrains.27.t
	desc = ukrains.27.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { #Let's kill them
		name = ukrains.27.a
		ai_chance = {
			factor = 100
		}
		declare_war_on = {
			target = UKR
			type = second_russian_civil_war
		}
	}
}

# UKR Seeks Help
country_event = {
	id = ukrains.28
	title = ukrains.28.t
	desc = ukrains.28.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { #Sure!
		name = ukrains.28.a
		ai_chance = {
			factor = 50
			modifier = {
				add = 25
				has_equipment = {
					infantry_equipment > 2000
				}
			}
			modifier = {
				add = 25
				has_government = UKR
			}
		}
		send_equipment = {
			equipment = infantry_equipment
			amount = 2000
			target = UKR
		}
		UKR = {
			country_event = ukrains.29
		}
	}

	option = { #Nah
		name = ukrains.28.b
		ai_chance = {
			factor = 50
			modifier = {
				add = -25
				has_equipment = {
					infantry_equipment > 2000
				}
			}
			modifier = {
				add = -25
				has_government = UKR
			}
		}
	}
}

# FROM Sends Help
country_event = {
	id = ukrains.29
	title = ukrains.29.t
	desc = ukrains.29.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { #Yay!
		name = ukrains.29.a
		ai_chance = {
			factor = 100
		}
		effect_tooltip = {
			FROM = {
				send_equipment = {
					equipment = infantry_equipment
					amount = 2000
					target = UKR
				}
			}
		}
		add_opinion_modifier = {
			target = FROM
			modifier = ukr_helped_civil_war
		}
	}
}

# Administration of Occupied Territories
country_event = {
	id = ukrains.30
	title = ukrains.30.t
	desc = ukrains.30.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { #Harsh Administration
		name = ukrains.30.a
		ai_chance = {
			factor = 50
		}
		add_ideas = UKR_Harsh_administration
	}

	option = { #Soft Administration
		name = ukrains.30.b
		ai_chance = {
			factor = 50
		}
		add_ideas = UKR_Soft_administration
	}
}

#You can play as Ukraine or another country
country_event = {
	id = ukrains.31
	title = ukrains.31.t
	desc = ukrains.31.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	timeout_days = 5

	option = { #No
		name = ukrains.31.a
		ai_chance = {
			factor = 100
		}
	}

	option = { #Yes
		name = ukrains.31.b
		ai_chance = {
			factor = 0
		}
		trigger = {
			is_ai = no
		}
		UKR = {
			change_tag_from = ROOT
		}
	}

	option = { #Other country set in game rules
		name = ukrains.31.c
		ai_chance = {
			factor = 0
		}
		trigger = {
			NOT = {
				check_variable = {
					var = global.russia_switch_country_id_scw
					value = 0
					compare = equals
				}
			}
			country_exists = var:global.russia_switch_country_id_scw
		}
		var:global.russia_switch_country_id_scw = {
			change_tag_from = ROOT
		}
	}
}

#Anarchist Rebels
country_event = {
	id = ukrains.32
	title = ukrains.32.t
	desc = ukrains.32.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = ukrains.33 days = 15 }
		}
	}

	option = { #Noobs
		name = ukrains.32.a
		ai_chance = {
			factor = 50
		}
		add_political_power = -50
		add_to_variable = { ukr_current_non_anarchist_support = 1 }
	}

	option = { #Let them be
		name = ukrains.32.b
		ai_chance = {
			factor = 50
		}
		trigger = {
			has_war = no
		}
		add_stability = -0.05
		add_to_variable = { ukr_current_anarchist_support = 1 }
	}
}

#Anarchist Rebels 2
country_event = {
	id = ukrains.33
	title = ukrains.33.t
	desc = ukrains.33.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = ukrains.34 days = 15 }
		}
	}

	option = { #Noobs
		name = ukrains.33.a
		ai_chance = {
			factor = 50
		}
		add_manpower = -5000
		add_to_variable = { ukr_current_non_anarchist_support = 1 }
	}

	option = { #Let them be
		name = ukrains.33.b
		ai_chance = {
			factor = 50
		}
		trigger = {
			has_war = no
		}
		add_war_support = 0.05
		add_to_variable = { ukr_current_anarchist_support = 1 }
	}
}

#Anarchist Rebels 3
country_event = {
	id = ukrains.34
	title = ukrains.34.t
	desc = ukrains.34.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = ukrains.35 days = 15 }
		}
	}

	option = { #Noobs
		name = ukrains.34.a
		ai_chance = {
			factor = 50
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -2000
		}
		add_to_variable = { ukr_current_non_anarchist_support = 1 }
	}

	option = { #Let them be
		name = ukrains.34.b
		ai_chance = {
			factor = 50
		}
		trigger = {
			has_war = no
		}
		add_stability = -0.1
		add_to_variable = { ukr_current_anarchist_support = 1 }
	}
}

#Anarchist Rebels 4
country_event = {
	id = ukrains.35
	title = ukrains.35.t
	desc = ukrains.35.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = ukrains.36 days = 15 }
		}
	}

	option = { #Noobs
		name = ukrains.35.a
		ai_chance = {
			factor = 50
		}
		add_political_power = 50
		random_owned_controlled_state = {
			limit = {
				infrastructure > 3
			}
			damage_building = {
				type = infrastructure
				damage = 1
			}
		}
		add_to_variable = { ukr_current_non_anarchist_support = 1 }
	}

	option = { #Let them be
		name = ukrains.35.b
		ai_chance = {
			factor = 50
		}
		trigger = {
			has_war = no
		}
		add_stability = -0.2
		add_to_variable = { ukr_current_anarchist_support = 1 }
	}
}

#Results
country_event = {
	id = ukrains.36
	title = ukrains.36.t
	desc = ukrains.36.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	timeout_days = 5

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					has_global_flag = second_russian_civil_war_in_progress
				}
				country_event = { id = ukrains.40 days = 10 }
			}
		}
	}

	option = { #Anarchism Fails
		name = ukrains.36.a
		ai_chance = {
			factor = 100
		}
		trigger = {
			check_variable = {
				var = ukr_current_non_anarchist_support
				value = ukr_current_anarchist_support
				compare = greater_than
			}
		}
		add_stability = 0.15
		add_political_power = 200
		clr_country_flag = ukr_anarchist_rebels
	}

	option = { #Anarchism Wins
		name = ukrains.36.b
		ai_chance = {
			factor = 100
		}
		trigger = {
			check_variable = {
				var = ukr_current_anarchist_support
				value = ukr_current_non_anarchist_support
				compare = greater_than
			}
		}
		add_stability = -0.2
		add_political_power = 500
		set_politics = {
			ruling_party = anarchy
			elections_allowed = no
		}
		clr_country_flag = ukr_anarchist_rebels
		hidden_effect = {
			for_each_scope_loop = {
				array = global.russian_scw_participants

				country_event = ukrains.39
			}
		}
	}

	option = { #Both Wins (Choose Republic)
		name = ukrains.36.c
		ai_chance = {
			factor = 50
		}
		trigger = {
			check_variable = {
				var = ukr_current_non_anarchist_support
				value = ukr_current_anarchist_support
				compare = equals
			}
		}
		add_stability = 0.10
		add_political_power = 150
		add_manpower = -5000
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -3000
		}
		clr_country_flag = ukr_anarchist_rebels
	}

	option = { #Both Wins (Choose Anarchism)
		name = ukrains.36.e
		ai_chance = {
			factor = 50
		}
		trigger = {
			check_variable = {
				var = ukr_current_anarchist_support
				value = ukr_current_non_anarchist_support
				compare = equals
			}
		}
		add_stability = -0.15
		add_political_power = 250
		set_politics = {
			ruling_party = anarchy
			elections_allowed = no
		}
		clr_country_flag = ukr_anarchist_rebels
		hidden_effect = {
			for_each_scope_loop = {
				array = global.russian_scw_participants

				country_event = ukrains.39
			}
		}
	}
}

#Join the War or Not
country_event = {
	id = ukrains.37
	title = ukrains.37.t
	desc = ukrains.37.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { #Yes
		name = ukrains.37.a
		ai_chance = {
			factor = 50
		}
		declare_war_on = {
			target = SOU
			type = second_russian_civil_war
		}
		add_ai_strategy = {
			type = conquer
			id = SOU
			value = 200
		}
		add_stability = -0.05
		add_war_support = 0.1
	}

	option = { #No
		name = ukrains.37.b
		ai_chance = {
			factor = 50
		}
		add_stability = 0.05
		hidden_effect = {
			country_event = { id = ukrains.32 days = 5 }
		}
	}
}

#UKR Joins the SCW
country_event = {
	id = ukrains.38
	title = ukrains.38.t
	desc = ukrains.38.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { #Okay...
		name = ukrains.38.a
		ai_chance = {
			factor = 100
		}
	}
}

#UKR Becomes Anarchist
country_event = {
	id = ukrains.39
	title = ukrains.39.t
	desc = ukrains.39.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { #Troubles are coming...
		name = ukrains.39.a
		ai_chance = {
			factor = 100
		}
		custom_effect_tooltip = ukr_will_join_scw_soon
	}
}

#Anarchist Ukraine Event to join the SCW
country_event = {
	id = ukrains.40
	title = ukrains.40.t
	desc = ukrains.40.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { #Here we go
		name = ukrains.40.a
		ai_chance = {
			factor = 100
		}
		custom_effect_tooltip = ukr_declares_on_all_scw_participants
		hidden_effect = {
			for_each_scope_loop = {
				array = global.russian_scw_participants

				if = {
					limit = {
						NOT = {
							UKR = {
								has_war_with = PREV
							}
						}
					}
					country_event = { id = ukrains.38 days = 1 }
					UKR = {
						declare_war_on = {
							target = PREV
							type = second_russian_civil_war
						}
						add_ai_strategy = {
							type = conquer
							id = PREV
							value = 200
						}
					}
				}
			}
		}
	}
}

#Ukraine Tries to Coup Belarus
country_event = {
	id = ukrains.41
	title = ukrains.41.t
	desc = ukrains.41.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { #Coup Succeeds
		name = ukrains.41.a
		ai_chance = {
			factor = 75
		}
		UKR = {
			set_autonomy = {
				target = ROOT
				autonomy_state = autonomy_puppet
			}
			country_event = { id = ukrains.42 days = 1 }
		}
	}

	option = { #Coup Fails
		name = ukrains.41.b
		ai_chance = {
			factor = 25
		}
		add_stability = -0.05
		UKR = {
			country_event = { id = ukrains.43 days = 1 }
		}
	}
}

#Coup Succeeds
country_event = {
	id = ukrains.42
	title = ukrains.42.t
	desc = ukrains.42.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { #Yay
		name = ukrains.42.a
		ai_chance = {
			factor = 100
		}
		set_country_flag = ukr_blr_coup_succeeds
		hidden_effect = {
			if = {
				limit = {
					NOT = {
						has_war_with = SOV
					}
				}
				SOV = {
					country_event = { id = ukrains.44 days = 1 }
				}
			}
		}
	}
}

#Coup Fails :(
country_event = {
	id = ukrains.43
	title = ukrains.43.t
	desc = ukrains.43.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { #Yay
		name = ukrains.43.a
		ai_chance = {
			factor = 100
		}
		add_political_power = 50
		set_country_flag = ukr_blr_coup_fails
	}
}

#Ukraine Coups Belarus
country_event = {
	id = ukrains.44
	title = ukrains.44.t
	desc = ukrains.44.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { #Fuck em up
		name = ukrains.44.a
		ai_chance = {
			factor = 25
			modifier = {
				add = 75
				has_country_flag = sympathize_with_ukraine
			}
		}
		add_war_support = 0.05
		if = {
			limit = {
				NOT = {
					has_war_with = UKR
				}
			}
			declare_war_on = {
				target = UKR
				type = second_russian_civil_war
			}
			hidden_effect = {
				UKR = {
					country_event = ukrains.45
				}
			}
		}
	}

	option = { #Don't care
		name = ukrains.44.b
		ai_chance = {
			factor = 75
			modifier = {
				add = -75
				has_country_flag = sympathize_with_ukraine
			}
		}
		add_political_power = 50
	}
}

#White Guard Attacks Us
country_event = {
	id = ukrains.45
	title = ukrains.45.t
	desc = ukrains.45.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { #Uh
		name = ukrains.45.a
		ai_chance = {
			factor = 100
		}

	}
}

#End of the Russian Civil War
country_event = {
	id = ukrains.47
	title = ukrains.47.t
	desc = ukrains.47.d
	picture = GFX_report_event_gre_allied_diplomacy

	is_triggered_only = yes

	option = { #nice
		name = ukrains.47.a
		ai_chance = {
			factor = 100
		}
		set_global_flag = second_russian_civil_war_over
		clr_global_flag = second_russian_civil_war_in_progress
	}
}