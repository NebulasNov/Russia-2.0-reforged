on_actions = {

	#SOU Gets Annexed By SOV and Receives Events
	on_capitulation = {
		effect = {
			if = {
				limit = {
					ROOT = {
						tag = SOU
					}
					FROM = {
						tag = SOV
						has_country_flag = second_civil_war_in_progress
					}
				}
				ROOT = {
					transfer_navy = {
						target = FROM
					}
				}	
				every_state = {
					limit = {
						is_owned_by = ROOT
					}
					FROM = {
						transfer_state = PREV
					}
				}
				if = {
					limit = {
						UKR = {
							OR = {
								is_in_faction_with = ROOT
								has_war_with = FROM
							}
						}
					}
					every_state = {
						limit = {
							is_owned_by = UKR
						}
						FROM = {
							transfer_state = PREV
							add_state_core = PREV
						}
					}
				}
				FROM = {
					country_event = { id = soviets.190 hours = 6 }
					news_event = { id = newsrussia2.67 days = 1 }
				}
				if = {
					limit = {
						FROM = {
							OR = {
								has_country_flag = japan_accept_to_help_give_russian_far_east
								has_country_flag = has_negotiated_with_germany_ressource_rights
								has_country_flag = accept_american_occupation_siberia_after_cw 
								has_country_flag = accept_french_factories_after_cw 
								has_country_flag = accept_diplomatic_relation_with_italy 
								has_country_flag = accept_english_help_for_shipment 
							}
						}
					}
					FROM = {
						country_event = { id = generics.34 days = 7 }
					}
				}
				every_country = {
					limit = {
						has_country_flag = has_helped_whiteguard_by_volunteers
					}
					country_event = { id = generics.35 days = 1 }
				}
			}
		}
	}

	#SOV Gets Annexed By SOU and Receives Events
	on_capitulation = {
		effect = {
			if = {
				limit = {
					ROOT = {
						tag = SOV
						has_country_flag = second_civil_war_in_progress
					}
					FROM = {
						tag = SOU
					}
				}
				ROOT = {
					transfer_navy = {
						target = FROM
					}
				}	
				every_state = {
					limit = {
						is_owned_by = ROOT
					}
					FROM = {
						transfer_state = PREV
					}
				}
				if = {
					limit = {
						OR = {
							TAG = UKR
							TAG = GEO
							TAG = BLR
							TAG = AZR
							TAG = ARM
							TAG = KAZ
							TAG = TMS
						}
					}
					SOU = {
						add_state_core = PREV
					}
				}
				FROM = {
					country_event = { id = soviets.238 hours = 3 }
					news_event = { id = newsrussia2.68 days = 1 }
				}

			}
		}
	}

	#Set a country flag for major that send volunteers to WG durinf CW
	on_send_volunteers = {
		effect = {
			if = {
				limit = {
					ROOT = {
						has_country_flag = help_whiteguard_during_russian_civil_war
						has_idea = SOV_Participation_russian_civil_war_foreign
					}
					FROM = {
						TAG = SOV
						has_country_flag = second_civil_war_in_progress
					}
				}
				ROOT = {
					set_country_flag = has_helped_whiteguard_by_volunteers
				}	
			}
		}
	}

	#Crimea loses all their ships on capitulation
	on_capitulation = {
		effect = {
			if = {
				limit = {
					ROOT = {
						tag = CRI
						has_idea = CRI_Master_black_sea
					}
				}
				ROOT = {
					transfer_navy = {
						target = FROM
					}
				}
				FROM = {
					country_event = generics.43
				}
			}
		}
	}
}