#Scripted localisation for Democratic Vote
defined_text = {
	name = GetVotingStatusExternalThreat
	text = {
		trigger = {
			has_country_flag = sov_voted_yes_last_vote
		}
		localization_key = LOC_democratic_vote_voted_YES
	}
    text = {
		trigger = {
			has_country_flag = sov_voted_no_last_vote
		}
		localization_key = LOC_democratic_vote_voted_NO
	}
    text = {
		trigger = {
			has_country_flag = sov_voted_not_last_vote
		}
		localization_key = LOC_democratic_vote_voted_NOT
	}
	text = {
		localization_key = LOC_democratic_vote_voted_WAITING
	}
}

defined_text = {
	name = GetCurrentProposalExternalThreat
	text = {
		trigger = {
			has_country_flag = sov_democratic_target_alone
		}
		localization_key = LOC_democratic_vote_current_target_alone
	}
    text = {
		trigger = {
			has_country_flag = sov_democratic_target_alliance
		}
		localization_key = LOC_democratic_vote_current_target_alliance
	}
	text = {
		localization_key = LOC_democratic_vote_current_target_none
	}
}

defined_text = {
	name = GetFirstStepStatus
	text = {
		trigger = {
			has_country_flag = SOV_secured_revolution
		}
		localization_key = LOC_revolution_first_step_selected
	}
    text = {
		trigger = {
			has_country_flag = SOV_has_conquered_old_city_europe
			check_variable = {
				var = revolution_count
				value = 3
				compare = greater_than_or_equals
			}
			NOT = {
				has_country_flag = SOV_secured_revolution
			}
		}
		localization_key = LOC_revolution_first_step_available
	}
	text = {
		localization_key = LOC_revolution_first_step_locked
	}
}

defined_text = {
	name = GetFirstStepScaleStatus
	text = {
		trigger = {
			has_country_flag = SOV_secured_revolution
		}
		localization_key = LOC_revolution_first_step_scale_selected
	}
    text = {
		trigger = {
			has_country_flag = SOV_has_conquered_old_city_europe
			check_variable = {
				var = revolution_count
				value = 3
				compare = greater_than_or_equals
			}
			NOT = {
				has_country_flag = SOV_secured_revolution
			}
		}
		localization_key = LOC_revolution_first_step_scale_available
	}
	text = {
		localization_key = LOC_revolution_first_step_scale_locked
	}
}

defined_text = {
	name = GetSecondStepStatus
	text = {
		trigger = {
			has_country_flag = SOV_expanded_revolution
		}
		localization_key = LOC_revolution_second_step_selected
	}
    text = {
		trigger = {
			has_country_flag = SOV_secured_revolution
			has_country_flag = SOV_has_conquered_major_city_europe
			check_variable = {
				var = revolution_count
				value = 6
				compare = greater_than_or_equals
			}
			NOT = {
				has_country_flag = SOV_expanded_revolution
			}
		}
		localization_key = LOC_revolution_second_step_available
	}
	text = {
		localization_key = LOC_revolution_second_step_locked
	}
}

defined_text = {
	name = GetSecondStepScaleStatus
	text = {
		trigger = {
			has_country_flag = SOV_expanded_revolution
		}
		localization_key = LOC_revolution_second_step_scale_selected
	}
    text = {
		trigger = {
			has_country_flag = SOV_secured_revolution
			has_country_flag = SOV_has_conquered_major_city_europe
			check_variable = {
				var = revolution_count
				value = 6
				compare = greater_than_or_equals
			}
			NOT = {
				has_country_flag = SOV_expanded_revolution
			}
		}
		localization_key = LOC_revolution_second_step_scale_available
	}
	text = {
		localization_key = LOC_revolution_second_step_scale_locked
	}
}

defined_text = {
	name = GetThirdStepStatus
	text = {
		trigger = {
			has_country_flag = SOV_last_step_of_revolution
		}
		localization_key = LOC_revolution_third_step_selected
	}
    text = {
		trigger = {
			has_country_flag = SOV_expanded_revolution
			has_country_flag = SOV_has_conquered_old_city
			check_variable = {
				var = revolution_count
				value = 9
				compare = greater_than_or_equals
			}
			NOT = {
				has_country_flag = SOV_last_step_of_revolution
			}
		}
		localization_key = LOC_revolution_third_step_available
	}
	text = {
		localization_key = LOC_revolution_third_step_locked
	}
}

defined_text = {
	name = GetThirdStepScaleStatus
	text = {
		trigger = {
			has_country_flag = SOV_last_step_of_revolution
		}
		localization_key = LOC_revolution_third_step_scale_selected
	}
    text = {
		trigger = {
			has_country_flag = SOV_expanded_revolution
			has_country_flag = SOV_has_conquered_old_city
			check_variable = {
				var = revolution_count
				value = 9
				compare = greater_than_or_equals
			}
			NOT = {
				has_country_flag = SOV_last_step_of_revolution
			}
		}
		localization_key = LOC_revolution_third_step_scale_available
	}
	text = {
		localization_key = LOC_revolution_third_step_scale_locked
	}
}

defined_text = {
	name = GetFourthStepStatus
	text = {
		trigger = {
			has_country_flag = SOV_ended_revolution
		}
		localization_key = LOC_revolution_fourth_step_selected
	}
    text = {
		trigger = {
			has_completed_focus = SOV_revolution_to_the_utmost
			NOT = {
				any_country = {
					is_major = yes
					NOT = {
						has_government = communism
					}
				}
			}
			has_country_flag =  SOV_last_step_of_revolution
			check_variable = {
				var = revolution_count
				value = 12
				compare = greater_than_or_equals
			}
			NOT = {
				has_country_flag = SOV_ended_revolution
			}
		}
		localization_key = LOC_revolution_fourth_step_available
	}
	text = {
		localization_key = LOC_revolution_fourth_step_locked
	}
}

defined_text = {
	name = GetFourthStepScaleStatus
	text = {
		trigger = {
			has_country_flag = SOV_ended_revolution
		}
		localization_key = LOC_revolution_fourth_step_scale_selected
	}
    text = {
		trigger = {
			has_completed_focus = SOV_revolution_to_the_utmost
			NOT = {
				any_country = {
					is_major = yes
					NOT = {
						has_government = communism
					}
				}
			}
			has_country_flag =  SOV_last_step_of_revolution
			check_variable = {
				var = revolution_count
				value = 12
				compare = greater_than_or_equals
			}
			NOT = {
				has_country_flag = SOV_ended_revolution
			}
		}
		localization_key = LOC_revolution_fourth_step_scale_available
	}
	text = {
		localization_key = LOC_revolution_fourth_step_scale_locked
	}
}

#Purge
defined_text = {
	name = GetCurrentPurgeScale
	text = {
		trigger = {
			check_variable = {
				var = sov_great_purge_completion
				value = 75
				compare = greater_than_or_equals
			}
		}
		localization_key = LOC_purge_current_scale_4
	}
	text = {
		trigger = {
			check_variable = {
				var = sov_great_purge_completion
				value = 50
				compare = greater_than_or_equals
			}
			check_variable = {
				var = sov_great_purge_completion
				value = 75
				compare = less_than
			}
		}
		localization_key = LOC_purge_current_scale_3
	}
	text = {
		trigger = {
			check_variable = {
				var = sov_great_purge_completion
				value = 25
				compare = greater_than_or_equals
			}
			check_variable = {
				var = sov_great_purge_completion
				value = 50
				compare = less_than
			}
		}
		localization_key = LOC_purge_current_scale_2
	}
	text = {
		localization_key = LOC_purge_current_scale_1
	}
}

defined_text = {
	name = GetCurrentPurgeTexticonScale
	text = {
		trigger = {
			check_variable = {
				var = sov_great_purge_completion
				value = 75
				compare = greater_than_or_equals
			}
		}
		localization_key = LOC_purge_current_scale_texticon_4
	}
	text = {
		trigger = {
			check_variable = {
				var = sov_great_purge_completion
				value = 50
				compare = greater_than_or_equals
			}
			check_variable = {
				var = sov_great_purge_completion
				value = 75
				compare = less_than
			}
		}
		localization_key = LOC_purge_current_scale_texticon_3
	}
	text = {
		trigger = {
			check_variable = {
				var = sov_great_purge_completion
				value = 25
				compare = greater_than_or_equals
			}
			check_variable = {
				var = sov_great_purge_completion
				value = 50
				compare = less_than
			}
		}
		localization_key = LOC_purge_current_scale_texticon_2
	}
	text = {
		localization_key = LOC_purge_current_scale_texticon_1
	}
}

defined_text = {
	name = GetPurgeDesc
	text = {
		trigger = {
			NOT = {
				has_idea = SOV_great_purge
			}
			check_variable = {
				var = sov_great_purge_completion
				value = 100
				compare = greater_than_or_equals
			}
		}
		localization_key = LOC_great_purge_gone
	}
	text = {
		trigger = {
			has_idea = SOV_great_purge
			check_variable = {
				var = sov_great_purge_completion
				value = 100
				compare = greater_than_or_equals
			}
		}
		localization_key = LOC_great_purge_done
	}
	text = {
		localization_key = LOC_great_purge_ongoing
	}
}

defined_text = {
    name = GetMikhailTukhachevskyPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^0
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_0_pin_mikhail_tukhachevsky_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetGeorgyZhukovPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^1
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_1_pin_georgy_zhukov_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetMikhailKalininPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^2
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_2_pin_mikhail_kalinin_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetKlimentVoroshilovPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^3
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_3_pin_kliment_voroshilov_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetLavrentiyBeriaPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^4
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_4_pin_lavrentiy_beria_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetGenrikhYagodaPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^5
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_5_pin_genrikh_yagoda_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetNikolaiVoznesenskyPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^6
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_6_pin_nikolai_voznesensky_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetGrigoryKulikPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^7
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_7_pin_grigory_kulik_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetVsevolodMerkulovPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^8
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_8_pin_vsevolod_merkulov_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetIvanMaiskyPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^9
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_9_pin_ivan_maisky_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetVyacheslavMolotovPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^10
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_10_pin_vyacheslav_molotov_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetNikitaKhruschevPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^11
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_11_pin_nikita_khruschev_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetSemyonTimoshenkoPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^12
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_12_pin_semyon_timoshenko_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetAlexanderYegorovPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^13
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_13_pin_alexander_yegorov_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetVasilyBlucherPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^14
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_14_pin_vasily_blucher_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetPyotrSmirnovPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^15
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_15_pin_pyotr_smirnov_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetMikhailFrinovskyPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^16
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_16_pin_mikhail_frinovsky_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetNikolayKuznetsovPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^17
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_17_pin_nikolay_kuznetsov_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetIvanYumashevPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^18
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_18_pin_ivan_yumashev_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetAlexanderNovikovPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^19
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_19_pin_alexander_novikov_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetKonstantinVershininPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^20
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_20_pin_konstantin_vershinin_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetYakovSmushkevichPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^21
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_21_pin_yakov_smushkevich_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetPavelRychagovPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^22
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_22_pin_pavel_rychagov_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetIvanKonevPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^23
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_23_pin_ivan_konev_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetKonstantinRokossovskyPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^24
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_24_pin_konstantin_rokossovsky_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetAleksandrVasilevskyPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^25
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_25_pin_aleksandr_vasilevsky_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetPavelZhigarevPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^26
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_26_pin_pavel_zhigarev_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetSergeiKhudyakovPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^27
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_27_pin_sergei_khudyakov_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetStepanKrasovskyPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^28
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_28_pin_stepan_krasovsky_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetVladimirKasatonovPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^29
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_29_pin_vladimir_kasatonov_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetGordeyLevchenkoPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^30
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_30_pin_gordey_levchenko_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetArseniyGolovkoPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^31
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_31_pin_arseniy_golovko_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetBorisShaposhnikovPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^32
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_32_pin_boris_shaposhnikov_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetSergeyGorshkovPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^33
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_33_pin_sergey_gorshkov_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetVladimirTributsPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^34
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_34_pin_vladimir_tributs_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetSergeiRudenkoPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^35
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_35_pin_sergei_rudenko_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetAlexanderGolovanovPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^36
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_36_pin_alexander_golovanov_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetIgorKurchatovPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^37
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_37_pin_igor_kurchatov_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetSergeiKorolevPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^38
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_38_pin_sergei_korolev_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetLeonidGovorovPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^39
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_39_pin_leonid_govorov_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetNikolaiBerzarinPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^40
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_40_pin_nikolai_berzarin_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetAlexanderGorbatovPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^41
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_41_pin_alexander_gorbatov_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}

defined_text = {
    name = GetYakovAgranovPurgeStatus
    text = {
        trigger = {
            check_variable = {
                var = sov_great_purge_frame^42
                value = 2
                compare = equals
            }
        }
        localization_key = LOC_42_pin_yakov_agranov_portrait_purged
    }
    text = {
        localization_key = LOC_great_purge_not_purged
    }
}