#Scripted localisation for Democratic Vote
defined_text = {
	name = GetVotingStatusExternalThreat
	text = {
		trigger = {
			has_country_flag = sov_voted_yes_last_vote
		}
		localization_key = LOC_democratic_vote_voted_YES
	}
    text = {
		trigger = {
			has_country_flag = sov_voted_no_last_vote
		}
		localization_key = LOC_democratic_vote_voted_NO
	}
    text = {
		trigger = {
			has_country_flag = sov_voted_not_last_vote
		}
		localization_key = LOC_democratic_vote_voted_NOT
	}
	text = {
		localization_key = LOC_democratic_vote_voted_WAITING
	}
}

defined_text = {
	name = GetCurrentProposalExternalThreat
	text = {
		trigger = {
			has_country_flag = sov_democratic_target_alone
		}
		localization_key = LOC_democratic_vote_current_target_alone
	}
    text = {
		trigger = {
			has_country_flag = sov_democratic_target_alliance
		}
		localization_key = LOC_democratic_vote_current_target_alliance
	}
	text = {
		localization_key = LOC_democratic_vote_current_target_none
	}
}

defined_text = {
	name = GetFirstStepStatus
	text = {
		trigger = {
			has_country_flag = SOV_secured_revolution
		}
		localization_key = LOC_revolution_first_step_selected
	}
    text = {
		trigger = {
			has_country_flag = SOV_has_conquered_old_city_europe
			check_variable = {
				var = revolution_count
				value = 3
				compare = greater_than_or_equals
			}
			NOT = {
				has_country_flag = SOV_secured_revolution
			}
		}
		localization_key = LOC_revolution_first_step_available
	}
	text = {
		localization_key = LOC_revolution_first_step_locked
	}
}

defined_text = {
	name = GetFirstStepScaleStatus
	text = {
		trigger = {
			has_country_flag = SOV_secured_revolution
		}
		localization_key = LOC_revolution_first_step_scale_selected
	}
    text = {
		trigger = {
			has_country_flag = SOV_has_conquered_old_city_europe
			check_variable = {
				var = revolution_count
				value = 3
				compare = greater_than_or_equals
			}
			NOT = {
				has_country_flag = SOV_secured_revolution
			}
		}
		localization_key = LOC_revolution_first_step_scale_available
	}
	text = {
		localization_key = LOC_revolution_first_step_scale_locked
	}
}

defined_text = {
	name = GetSecondStepStatus
	text = {
		trigger = {
			has_country_flag = SOV_expanded_revolution
		}
		localization_key = LOC_revolution_second_step_selected
	}
    text = {
		trigger = {
			has_country_flag = SOV_secured_revolution
			has_country_flag = SOV_has_conquered_major_city_europe
			check_variable = {
				var = revolution_count
				value = 6
				compare = greater_than_or_equals
			}
			NOT = {
				has_country_flag = SOV_expanded_revolution
			}
		}
		localization_key = LOC_revolution_second_step_available
	}
	text = {
		localization_key = LOC_revolution_second_step_locked
	}
}

defined_text = {
	name = GetSecondStepScaleStatus
	text = {
		trigger = {
			has_country_flag = SOV_expanded_revolution
		}
		localization_key = LOC_revolution_second_step_scale_selected
	}
    text = {
		trigger = {
			has_country_flag = SOV_secured_revolution
			has_country_flag = SOV_has_conquered_major_city_europe
			check_variable = {
				var = revolution_count
				value = 6
				compare = greater_than_or_equals
			}
			NOT = {
				has_country_flag = SOV_expanded_revolution
			}
		}
		localization_key = LOC_revolution_second_step_scale_available
	}
	text = {
		localization_key = LOC_revolution_second_step_scale_locked
	}
}

defined_text = {
	name = GetThirdStepStatus
	text = {
		trigger = {
			has_country_flag = SOV_last_step_of_revolution
		}
		localization_key = LOC_revolution_third_step_selected
	}
    text = {
		trigger = {
			has_country_flag = SOV_expanded_revolution
			has_country_flag = SOV_has_conquered_old_city
			check_variable = {
				var = revolution_count
				value = 9
				compare = greater_than_or_equals
			}
			NOT = {
				has_country_flag = SOV_last_step_of_revolution
			}
		}
		localization_key = LOC_revolution_third_step_available
	}
	text = {
		localization_key = LOC_revolution_third_step_locked
	}
}

defined_text = {
	name = GetThirdStepScaleStatus
	text = {
		trigger = {
			has_country_flag = SOV_last_step_of_revolution
		}
		localization_key = LOC_revolution_third_step_scale_selected
	}
    text = {
		trigger = {
			has_country_flag = SOV_expanded_revolution
			has_country_flag = SOV_has_conquered_old_city
			check_variable = {
				var = revolution_count
				value = 9
				compare = greater_than_or_equals
			}
			NOT = {
				has_country_flag = SOV_last_step_of_revolution
			}
		}
		localization_key = LOC_revolution_third_step_scale_available
	}
	text = {
		localization_key = LOC_revolution_third_step_scale_locked
	}
}

defined_text = {
	name = GetFourthStepStatus
	text = {
		trigger = {
			has_country_flag = SOV_ended_revolution
		}
		localization_key = LOC_revolution_fourth_step_selected
	}
    text = {
		trigger = {
			has_completed_focus = SOV_revolution_to_the_utmost
			NOT = {
				any_country = {
					is_major = yes
					NOT = {
						has_government = communism
					}
				}
			}
			has_country_flag =  SOV_last_step_of_revolution
			check_variable = {
				var = revolution_count
				value = 12
				compare = greater_than_or_equals
			}
			NOT = {
				has_country_flag = SOV_ended_revolution
			}
		}
		localization_key = LOC_revolution_fourth_step_available
	}
	text = {
		localization_key = LOC_revolution_fourth_step_locked
	}
}

defined_text = {
	name = GetFourthStepScaleStatus
	text = {
		trigger = {
			has_country_flag = SOV_ended_revolution
		}
		localization_key = LOC_revolution_fourth_step_scale_selected
	}
    text = {
		trigger = {
			has_completed_focus = SOV_revolution_to_the_utmost
			NOT = {
				any_country = {
					is_major = yes
					NOT = {
						has_government = communism
					}
				}
			}
			has_country_flag =  SOV_last_step_of_revolution
			check_variable = {
				var = revolution_count
				value = 12
				compare = greater_than_or_equals
			}
			NOT = {
				has_country_flag = SOV_ended_revolution
			}
		}
		localization_key = LOC_revolution_fourth_step_scale_available
	}
	text = {
		localization_key = LOC_revolution_fourth_step_scale_locked
	}
}

#Purge
defined_text = {
	name = GetCurrentPurgeScale
	text = {
		trigger = {
			check_variable = {
				var = sov_great_purge_completion
				value = 75
				compare = greater_than_or_equals
			}
		}
		localization_key = LOC_purge_current_scale_4
	}
	text = {
		trigger = {
			check_variable = {
				var = sov_great_purge_completion
				value = 50
				compare = greater_than_or_equals
			}
			check_variable = {
				var = sov_great_purge_completion
				value = 75
				compare = less_than
			}
		}
		localization_key = LOC_purge_current_scale_3
	}
	text = {
		trigger = {
			check_variable = {
				var = sov_great_purge_completion
				value = 25
				compare = greater_than_or_equals
			}
			check_variable = {
				var = sov_great_purge_completion
				value = 50
				compare = less_than
			}
		}
		localization_key = LOC_purge_current_scale_2
	}
	text = {
		localization_key = LOC_purge_current_scale_1
	}
}

defined_text = {
	name = GetPurgeDesc
	text = {
		trigger = {
			check_variable = {
				var = sov_great_purge_completion
				value = 100
				compare = greater_than_or_equals
			}
		}
		localization_key = LOC_great_purge_done
	}
	text = {
		localization_key = LOC_great_purge_ongoing
	}
}